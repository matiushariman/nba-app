import { rest } from 'msw';
import { GetGamesRes, GetGameByIdRes } from '@nba-app/types-nba';

export const mockGames = {
  meta: {
    version: 1,
    request:
      'https://nba-prod-us-east-1-mediaops-stats.s3.amazonaws.com/NBA/liveData/scoreboard/todaysScoreboard_00.json',
    time: '2022-12-05 10:57:59.5759',
    code: 200,
  },
  scoreboard: {
    gameDate: '2022-12-05',
    leagueId: '00',
    leagueName: 'National Basketball Association',
    games: [
      {
        gameId: '0022200359',
        gameCode: '20221205/INDGSW',
        gameStatus: 2,
        gameStatusText: 'Q2 04:04',
        period: 2,
        gameClock: 'PT04M04.00S',
        gameTimeUTC: '2022-12-06T03:00:00Z',
        gameEt: '2022-12-05T22:00:00-05:00',
        regulationPeriods: 4,
        ifNecessary: false,
        seriesGameNumber: '',
        seriesText: '',
        homeTeam: {
          teamId: 1610612744,
          teamName: 'Warriors',
          teamCity: 'Golden State',
          teamTricode: 'GSW',
          wins: 13,
          losses: 11,
          score: 42,
          seed: null,
          inBonus: '0',
          timeoutsRemaining: 5,
          periods: [
            {
              period: 1,
              periodType: 'REGULAR',
              score: 21,
            },
            {
              period: 2,
              periodType: 'REGULAR',
              score: 21,
            },
            {
              period: 3,
              periodType: 'REGULAR',
              score: 0,
            },
            {
              period: 4,
              periodType: 'REGULAR',
              score: 0,
            },
          ],
        },
        awayTeam: {
          teamId: 1610612754,
          teamName: 'Pacers',
          teamCity: 'Indiana',
          teamTricode: 'IND',
          wins: 12,
          losses: 11,
          score: 42,
          seed: null,
          inBonus: '0',
          timeoutsRemaining: 4,
          periods: [
            {
              period: 1,
              periodType: 'REGULAR',
              score: 34,
            },
            {
              period: 2,
              periodType: 'REGULAR',
              score: 8,
            },
            {
              period: 3,
              periodType: 'REGULAR',
              score: 0,
            },
            {
              period: 4,
              periodType: 'REGULAR',
              score: 0,
            },
          ],
        },
        gameLeaders: {
          homeLeaders: {
            personId: 202691,
            name: 'Klay Thompson',
            jerseyNum: '11',
            position: 'G',
            teamTricode: 'GSW',
            playerSlug: 'klay-thompson',
            points: 17,
            rebounds: 1,
            assists: 1,
          },
          awayLeaders: {
            personId: 1630188,
            name: 'Jalen Smith',
            jerseyNum: '25',
            position: 'FC',
            teamTricode: 'IND',
            playerSlug: 'jalen-smith',
            points: 9,
            rebounds: 6,
            assists: 1,
          },
        },
        pbOdds: {
          team: null,
          odds: 0,
          suspended: 0,
        },
      },
      {
        gameId: '0022200356',
        gameCode: '20221205/PHIHOU',
        gameStatus: 2,
        gameStatusText: 'OT2 03:21',
        period: 6,
        gameClock: 'PT03M21.00S',
        gameTimeUTC: '2022-12-06T01:00:00Z',
        gameEt: '2022-12-05T20:00:00-05:00',
        regulationPeriods: 4,
        ifNecessary: false,
        seriesGameNumber: '',
        seriesText: '',
        homeTeam: {
          teamId: 1610612745,
          teamName: 'Rockets',
          teamCity: 'Houston',
          teamTricode: 'HOU',
          wins: 6,
          losses: 17,
          score: 123,
          seed: null,
          inBonus: '0',
          timeoutsRemaining: 2,
          periods: [
            {
              period: 1,
              periodType: 'REGULAR',
              score: 27,
            },
            {
              period: 2,
              periodType: 'REGULAR',
              score: 29,
            },
            {
              period: 3,
              periodType: 'REGULAR',
              score: 34,
            },
            {
              period: 4,
              periodType: 'REGULAR',
              score: 18,
            },
            {
              period: 5,
              periodType: 'OVERTIME',
              score: 9,
            },
            {
              period: 6,
              periodType: 'OVERTIME',
              score: 6,
            },
          ],
        },
        awayTeam: {
          teamId: 1610612755,
          teamName: '76ers',
          teamCity: 'Philadelphia',
          teamTricode: 'PHI',
          wins: 12,
          losses: 11,
          score: 120,
          seed: null,
          inBonus: '0',
          timeoutsRemaining: 2,
          periods: [
            {
              period: 1,
              periodType: 'REGULAR',
              score: 30,
            },
            {
              period: 2,
              periodType: 'REGULAR',
              score: 25,
            },
            {
              period: 3,
              periodType: 'REGULAR',
              score: 29,
            },
            {
              period: 4,
              periodType: 'REGULAR',
              score: 24,
            },
            {
              period: 5,
              periodType: 'OVERTIME',
              score: 9,
            },
            {
              period: 6,
              periodType: 'OVERTIME',
              score: 3,
            },
          ],
        },
        gameLeaders: {
          homeLeaders: {
            personId: 1631106,
            name: 'Tari Eason',
            jerseyNum: '17',
            position: 'F',
            teamTricode: 'HOU',
            playerSlug: 'tari-eason',
            points: 18,
            rebounds: 6,
            assists: 0,
          },
          awayLeaders: {
            personId: 203954,
            name: 'Joel Embiid',
            jerseyNum: '21',
            position: 'C',
            teamTricode: 'PHI',
            playerSlug: 'joel-embiid',
            points: 39,
            rebounds: 7,
            assists: 3,
          },
        },
        pbOdds: {
          team: null,
          odds: 0,
          suspended: 0,
        },
      },
      {
        gameId: '0022200352',
        gameCode: '20221205/LACCHA',
        gameStatus: 3,
        gameStatusText: 'Final',
        period: 4,
        gameClock: '',
        gameTimeUTC: '2022-12-06T00:00:00Z',
        gameEt: '2022-12-05T19:00:00Z',
        regulationPeriods: 4,
        ifNecessary: false,
        seriesGameNumber: '',
        seriesText: '',
        homeTeam: {
          teamId: 1610612766,
          teamName: 'Hornets',
          teamCity: 'Charlotte',
          teamTricode: 'CHA',
          wins: 7,
          losses: 17,
          score: 117,
          seed: null,
          inBonus: null,
          timeoutsRemaining: 0,
          periods: [
            {
              period: 1,
              periodType: 'REGULAR',
              score: 26,
            },
            {
              period: 2,
              periodType: 'REGULAR',
              score: 28,
            },
            {
              period: 3,
              periodType: 'REGULAR',
              score: 36,
            },
            {
              period: 4,
              periodType: 'REGULAR',
              score: 27,
            },
          ],
        },
        awayTeam: {
          teamId: 1610612746,
          teamName: 'Clippers',
          teamCity: 'LA',
          teamTricode: 'LAC',
          wins: 14,
          losses: 11,
          score: 119,
          seed: null,
          inBonus: null,
          timeoutsRemaining: 1,
          periods: [
            {
              period: 1,
              periodType: 'REGULAR',
              score: 28,
            },
            {
              period: 2,
              periodType: 'REGULAR',
              score: 35,
            },
            {
              period: 3,
              periodType: 'REGULAR',
              score: 21,
            },
            {
              period: 4,
              periodType: 'REGULAR',
              score: 35,
            },
          ],
        },
        gameLeaders: {
          homeLeaders: {
            personId: 1626162,
            name: 'Kelly Oubre Jr.',
            jerseyNum: '12',
            position: 'F-G',
            teamTricode: 'CHA',
            playerSlug: null,
            points: 28,
            rebounds: 7,
            assists: 2,
          },
          awayLeaders: {
            personId: 202331,
            name: 'Paul George',
            jerseyNum: '13',
            position: 'F',
            teamTricode: 'LAC',
            playerSlug: null,
            points: 19,
            rebounds: 3,
            assists: 7,
          },
        },
        pbOdds: {
          team: null,
          odds: 0,
          suspended: 0,
        },
      },
    ],
  },
};

export const gamesHandlers = [
  rest.get<GetGameByIdRes>('/api/games/:gameId', (req, res, ctx) => {
    const { gameId } = req.params;
    const game = mockGames.scoreboard.games.find(
      (findGame) => findGame.gameId === gameId
    );
    return res(ctx.json(game));
  }),
  rest.get<GetGamesRes>('/api/games', (req, res, ctx) => {
    return res(ctx.json(mockGames));
  }),
];
